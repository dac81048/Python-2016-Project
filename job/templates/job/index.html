{% extends 'job/base.html' %}
{% block content %}
{% load static %}
<!-- datatable -->
<link href="{% static 'job/js/datatables/jquery.dataTables.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'job/js/datatables/buttons.bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'job/js/datatables/fixedHeader.bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'job/js/datatables/responsive.bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'job/js/datatables/scroller.bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
<script src="{% static 'job/js/jquery.min.js' %}"></script>

<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-xs-12">
    <ol class="breadcrumb" style="padding:20px 15px;">
      <li>Dashboard</li>
      <li><strong></strong></li>
    </ol>
  </div>
</div>

<ul class="nav nav-tabs">
    <li class="active"><a href="#pending">Pending</a></li>
    <li><a href="#ongoing">Ongoing</a></li>
    <li><a href="#finished">Finished</a></li>
</ul>

  <div class="tab-content">
    <div id="pending" class="tab-pane fade in active">
      <div class="col-md-12 col-sm-12 col-xs-12" style="padding-left: 0; padding-right: 0;">
        <div class="x_panel">
          <!-- <div class="x_title">
            <h2></h2>
            <div class="clearfix"></div>
          </div> -->
          {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                  <li{% if message.tags %} style="list-style-type:none;" class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
          {% endif %}
          <div class="x_content">
            <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Address</th>
                  <th>Description</th>
                  <th>Worker Name</th>
                  <th>Total Cost</th>
                </tr>
              </thead>
              <tbody>
                {% for jobs in all_pending_jobs %}
                <tr>
                  <td scope="row">{{ jobs.customer_id.first_name }}</td>
                  <td>{{ jobs.customer_id.last_name }}</td>
                  <td>{{ jobs.location }}</td>
                  <td>{{ jobs.job_description }}</td>
                  <td>{{ jobs.worker_id.worker.first_name }}</td>
                  <td>{{ jobs.Estimate_id.total_cost }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div id="ongoing" class="tab-pane fade">
      <div class="col-md-12 col-sm-12 col-xs-12" style="padding-left: 0; padding-right: 0;">
        <div class="x_panel">
          <!-- <div class="x_title">
            <h2></h2>
            <div class="clearfix"></div>
          </div> -->
          {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                  <li{% if message.tags %} style="list-style-type:none;" class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
          {% endif %}
          <div class="x_content">
            <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Address</th>
                  <th>Description</th>
                  <th>Worker Name</th>
                  <th>Total Cost</th>
                </tr>
              </thead>
              <tbody>
                {% for jobs in all_completed_jobs %}
                <tr>
                  <td scope="row">{{ jobs.customer_id.first_name }}</td>
                  <td>{{ jobs.customer_id.last_name }}</td>
                  <td>{{ jobs.location }}</td>
                  <td>{{ jobs.job_description }}</td>
                  <td>{{ jobs.worker_id.worker.first_name }}</td>
                  <td>{{ jobs.Estimate_id.total_cost }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div id="finished" class="tab-pane fade">
      <div class="col-md-12 col-sm-12 col-xs-12" style="padding-left: 0; padding-right: 0;">
        <div class="x_panel">
          <!-- <div class="x_title">
            <h2></h2>
            <div class="clearfix"></div>
          </div> -->
          {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                  <li{% if message.tags %} style="list-style-type:none;" class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
          {% endif %}
          <div class="x_content">
            <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Address</th>
                  <th>Description</th>
                  <th>Worker Name</th>
                  <th>Total Cost</th>
                </tr>
              </thead>
              <tbody>
                {% for jobs in all_completed_jobs %}
                <tr>
                  <td scope="row">{{ jobs.customer_id.first_name }}</td>
                  <td>{{ jobs.customer_id.last_name }}</td>
                  <td>{{ jobs.location }}</td>
                  <td>{{ jobs.job_description }}</td>
                  <td>{{ jobs.worker_id.worker.first_name }}</td>
                  <td>{{ jobs.Estimate_id.total_cost }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
$(document).ready(function(){
    $(".nav-tabs a").click(function(){
        $(this).tab('show');
    });
});
</script>

<!-- bootstrap progress js -->
<script src="{% static 'job/js/progressbar/bootstrap-progressbar.min.js' %}"></script>
<script src="{% static 'job/js/nicescroll/jquery.nicescroll.min.js' %}"></script>
<!-- icheck -->
<script src="{% static 'job/js/icheck/icheck.min.js' %}"></script>

<script src="{% static 'job/js/custom.js' %}"></script>

<!-- Datatables-->
<script src="{% static 'job/js/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.bootstrap.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'job/js/datatables/buttons.bootstrap.min.js' %}"></script>
<script src="{% static 'job/js/datatables/jszip.min.js' %}"></script>
<script src="{% static 'job/js/datatables/pdfmake.min.js' %}"></script>
<script src="{% static 'job/js/datatables/vfs_fonts.js' %}"></script>
<script src="{% static 'job/js/datatables/buttons.html5.min.js' %}"></script>
<script src="{% static 'job/js/datatables/buttons.print.min.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.fixedHeader.min.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.keyTable.min.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'job/js/datatables/responsive.bootstrap.min.js' %}"></script>
<script src="{% static 'job/js/datatables/dataTables.scroller.min.js' %}"></script>
<script src="{% static 'job/js/pace/pace.min.js' %}"></script>

<script type="text/javascript">
  $(document).ready(function() {
    $('#datatable').dataTable();
    $('#datatable-keytable').DataTable({
      keys: true
    });
    $('#datatable-responsive').DataTable({
        "paging":   false,
        "info":     false,
        "searching": false
    });
    $('#datatable-scroller').DataTable({
      ajax: "js/datatables/json/scroller-demo.json",
      deferRender: true,
      scrollY: 380,
      scrollCollapse: true,
      scroller: true
    });
    var table = $('#datatable-fixed-header').DataTable({
      fixedHeader: true
    });
  });
  TableManageButtons.init();
</script>
{% endblock %}
